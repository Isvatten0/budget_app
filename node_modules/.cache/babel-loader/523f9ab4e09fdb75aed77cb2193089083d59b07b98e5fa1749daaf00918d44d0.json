{"ast":null,"code":"import React,{useState}from'react';import{DollarSign,Edit3,Save,X}from'lucide-react';import{formatCurrency}from'../../lib/budget-utils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BankBalanceCard=_ref=>{let{currentBalance,onUpdateBalance}=_ref;const[isEditing,setIsEditing]=useState(false);const[newBalance,setNewBalance]=useState(currentBalance.toString());const[loading,setLoading]=useState(false);const handleSave=async()=>{const balance=parseFloat(newBalance);if(isNaN(balance))return;setLoading(true);try{await onUpdateBalance(balance);setIsEditing(false);}catch(error){console.error('Failed to update balance:',error);}finally{setLoading(false);}};const handleCancel=()=>{setNewBalance(currentBalance.toString());setIsEditing(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"pixel-card p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-rose-pine-text flex items-center\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-6 h-6 mr-2 text-rose-pine-gold\"}),\"Bank Balance\"]}),!isEditing&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(true),className:\"pixel-button-secondary p-2\",\"aria-label\":\"Edit balance\",children:/*#__PURE__*/_jsx(Edit3,{size:16})})]}),isEditing?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"balance\",className:\"block text-rose-pine-text text-sm font-medium mb-2\",children:\"Current Balance\"}),/*#__PURE__*/_jsx(\"input\",{id:\"balance\",type:\"number\",step:\"0.01\",min:\"0\",value:newBalance,onChange:e=>{var _value$split$;const value=e.target.value;// Only allow up to 2 decimal places\nif(value.includes('.')&&((_value$split$=value.split('.')[1])===null||_value$split$===void 0?void 0:_value$split$.length)>2){return;}setNewBalance(value);},onBlur:e=>{// Format to 2 decimal places on blur\nconst value=parseFloat(e.target.value);if(!isNaN(value)){setNewBalance(value.toFixed(2));}},className:\"pixel-input w-full text-2xl font-bold text-center\",placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleSave,disabled:loading,className:\"pixel-button flex-1 flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(Save,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:loading?'Saving...':'Save'})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleCancel,disabled:loading,className:\"pixel-button-secondary flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(X,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"Cancel\"})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold text-rose-pine-text mb-2\",children:formatCurrency(currentBalance)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-rose-pine-muted text-sm\",children:\"Available to spend\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-rose-pine-gold\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-rose-pine-pine\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-rose-pine-iris\"})]})]});};export default BankBalanceCard;","map":{"version":3,"names":["React","useState","DollarSign","Edit3","Save","X","formatCurrency","jsx","_jsx","jsxs","_jsxs","BankBalanceCard","_ref","currentBalance","onUpdateBalance","isEditing","setIsEditing","newBalance","setNewBalance","toString","loading","setLoading","handleSave","balance","parseFloat","isNaN","error","console","handleCancel","className","children","onClick","size","htmlFor","id","type","step","min","value","onChange","e","_value$split$","target","includes","split","length","onBlur","toFixed","placeholder","disabled"],"sources":["/workspace/src/components/dashboard/BankBalanceCard.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { DollarSign, Edit3, Save, X } from 'lucide-react'\nimport { formatCurrency } from '../../lib/budget-utils'\n\ninterface BankBalanceCardProps {\n  currentBalance: number\n  onUpdateBalance: (newBalance: number) => Promise<void>\n}\n\nconst BankBalanceCard: React.FC<BankBalanceCardProps> = ({ currentBalance, onUpdateBalance }) => {\n  const [isEditing, setIsEditing] = useState(false)\n  const [newBalance, setNewBalance] = useState(currentBalance.toString())\n  const [loading, setLoading] = useState(false)\n\n  const handleSave = async () => {\n    const balance = parseFloat(newBalance)\n    if (isNaN(balance)) return\n\n    setLoading(true)\n    try {\n      await onUpdateBalance(balance)\n      setIsEditing(false)\n    } catch (error) {\n      console.error('Failed to update balance:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleCancel = () => {\n    setNewBalance(currentBalance.toString())\n    setIsEditing(false)\n  }\n\n  return (\n    <div className=\"pixel-card p-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h2 className=\"text-xl font-bold text-rose-pine-text flex items-center\">\n          <DollarSign className=\"w-6 h-6 mr-2 text-rose-pine-gold\" />\n          Bank Balance\n        </h2>\n        {!isEditing && (\n          <button\n            onClick={() => setIsEditing(true)}\n            className=\"pixel-button-secondary p-2\"\n            aria-label=\"Edit balance\"\n          >\n            <Edit3 size={16} />\n          </button>\n        )}\n      </div>\n\n      {isEditing ? (\n        <div className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"balance\" className=\"block text-rose-pine-text text-sm font-medium mb-2\">\n              Current Balance\n            </label>\n                          <input\n                id=\"balance\"\n                type=\"number\"\n                step=\"0.01\"\n                min=\"0\"\n                value={newBalance}\n                onChange={(e) => {\n                  const value = e.target.value\n                  // Only allow up to 2 decimal places\n                  if (value.includes('.') && value.split('.')[1]?.length > 2) {\n                    return\n                  }\n                  setNewBalance(value)\n                }}\n                onBlur={(e) => {\n                  // Format to 2 decimal places on blur\n                  const value = parseFloat(e.target.value)\n                  if (!isNaN(value)) {\n                    setNewBalance(value.toFixed(2))\n                  }\n                }}\n                className=\"pixel-input w-full text-2xl font-bold text-center\"\n                placeholder=\"0.00\"\n              />\n          </div>\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={handleSave}\n              disabled={loading}\n              className=\"pixel-button flex-1 flex items-center justify-center space-x-2\"\n            >\n              <Save size={16} />\n              <span>{loading ? 'Saving...' : 'Save'}</span>\n            </button>\n            <button\n              onClick={handleCancel}\n              disabled={loading}\n              className=\"pixel-button-secondary flex items-center justify-center space-x-2\"\n            >\n              <X size={16} />\n              <span>Cancel</span>\n            </button>\n          </div>\n        </div>\n      ) : (\n        <div className=\"text-center\">\n          <div className=\"text-4xl font-bold text-rose-pine-text mb-2\">\n            {formatCurrency(currentBalance)}\n          </div>\n          <p className=\"text-rose-pine-muted text-sm\">\n            Available to spend\n          </p>\n        </div>\n      )}\n\n      {/* Decorative pixel elements */}\n      <div className=\"mt-4 flex justify-center space-x-2\">\n        <div className=\"w-2 h-2 bg-rose-pine-gold\"></div>\n        <div className=\"w-2 h-2 bg-rose-pine-pine\"></div>\n        <div className=\"w-2 h-2 bg-rose-pine-iris\"></div>\n      </div>\n    </div>\n  )\n}\n\nexport default BankBalanceCard"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}