{"ast":null,"code":"var _jsxFileName = \"/workspace/src/components/GoalsPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { supabase } from '../lib/supabase';\nimport { formatCurrency } from '../lib/budget-utils';\nimport { Plus, Edit, Trash2, Target, DollarSign, Calendar, X, Save, TrendingUp } from 'lucide-react';\nimport LoadingSpinner from './ui/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GoalsPage = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [goals, setGoals] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [showContributionForm, setShowContributionForm] = useState(false);\n  const [selectedGoal, setSelectedGoal] = useState(null);\n  const [editingGoal, setEditingGoal] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    target_amount: '',\n    current_amount: '',\n    deadline: '',\n    notes: ''\n  });\n  const [contributionForm, setContributionForm] = useState({\n    amount: '',\n    date: new Date().toISOString().split('T')[0],\n    notes: ''\n  });\n  useEffect(() => {\n    if (user) {\n      loadGoals();\n    }\n  }, [user]);\n  const loadGoals = async () => {\n    if (!(user !== null && user !== void 0 && user.id)) return;\n    try {\n      setLoading(true);\n      const {\n        data,\n        error\n      } = await supabase.from('goals').select('*').eq('user_id', user.id).order('created_at', {\n        ascending: false\n      });\n      if (error) throw error;\n      setGoals(data || []);\n    } catch (err) {\n      console.error('Error loading goals:', err);\n      setError('Failed to load goals');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!(user !== null && user !== void 0 && user.id)) return;\n    try {\n      const goalData = {\n        user_id: user.id,\n        name: formData.name,\n        target_amount: parseFloat(formData.target_amount),\n        current_amount: parseFloat(formData.current_amount) || 0,\n        deadline: formData.deadline || null,\n        notes: formData.notes || null\n      };\n      if (editingGoal) {\n        // Update existing goal\n        const {\n          error\n        } = await supabase.from('goals').update(goalData).eq('id', editingGoal.id);\n        if (error) throw error;\n      } else {\n        // Add new goal\n        const {\n          error\n        } = await supabase.from('goals').insert(goalData);\n        if (error) throw error;\n      }\n\n      // Reset form and reload\n      resetForm();\n      await loadGoals();\n    } catch (err) {\n      console.error('Error saving goal:', err);\n      setError('Failed to save goal');\n    }\n  };\n  const handleDelete = async goalId => {\n    if (!window.confirm('Are you sure you want to delete this goal?')) return;\n    try {\n      const {\n        error\n      } = await supabase.from('goals').delete().eq('id', goalId);\n      if (error) throw error;\n      await loadGoals();\n    } catch (err) {\n      console.error('Error deleting goal:', err);\n      setError('Failed to delete goal');\n    }\n  };\n  const handleEdit = goal => {\n    setEditingGoal(goal);\n    setFormData({\n      name: goal.name,\n      target_amount: goal.target_amount.toString(),\n      current_amount: goal.current_amount.toString(),\n      deadline: goal.deadline || '',\n      notes: goal.notes || ''\n    });\n    setShowAddForm(true);\n  };\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      target_amount: '',\n      current_amount: '',\n      deadline: '',\n      notes: ''\n    });\n    setEditingGoal(null);\n    setShowAddForm(false);\n  };\n  const calculateProgress = (current, target) => {\n    return Math.min(100, current / target * 100);\n  };\n  const getProgressColor = progress => {\n    if (progress >= 80) return 'bg-rose-pine-pine';\n    if (progress >= 50) return 'bg-rose-pine-gold';\n    return 'bg-rose-pine-love';\n  };\n  const getDaysUntilDeadline = deadline => {\n    const today = new Date();\n    const deadlineDate = new Date(deadline);\n    const diffTime = deadlineDate.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n  const calculateSavingsNeeded = goal => {\n    if (!goal.deadline) return null;\n    const remaining = goal.target_amount - goal.current_amount;\n    const daysLeft = getDaysUntilDeadline(goal.deadline);\n    if (daysLeft <= 0) return null;\n\n    // Calculate per-paycheck savings needed (assuming biweekly pay)\n    const paychecksLeft = Math.ceil(daysLeft / 14);\n    return {\n      total: remaining,\n      perPaycheck: remaining / paychecksLeft,\n      paychecksLeft,\n      daysLeft\n    };\n  };\n  const handleAddContribution = async e => {\n    e.preventDefault();\n    if (!(user !== null && user !== void 0 && user.id) || !selectedGoal) return;\n    try {\n      const contributionAmount = parseFloat(contributionForm.amount);\n      const newCurrentAmount = selectedGoal.current_amount + contributionAmount;\n\n      // Update goal with new current amount\n      const {\n        error: goalError\n      } = await supabase.from('goals').update({\n        current_amount: newCurrentAmount\n      }).eq('id', selectedGoal.id);\n      if (goalError) throw goalError;\n\n      // Add contribution record\n      const {\n        error: contributionError\n      } = await supabase.from('goal_contributions').insert({\n        goal_id: selectedGoal.id,\n        user_id: user.id,\n        amount: contributionAmount,\n        contribution_date: contributionForm.date,\n        notes: contributionForm.notes || null\n      });\n      if (contributionError) throw contributionError;\n\n      // Reset form and reload\n      setContributionForm({\n        amount: '',\n        date: new Date().toISOString().split('T')[0],\n        notes: ''\n      });\n      setShowContributionForm(false);\n      setSelectedGoal(null);\n      await loadGoals();\n    } catch (err) {\n      console.error('Error adding contribution:', err);\n      setError('Failed to add contribution');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-96\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-rose-pine-text\",\n          children: \"Savings Goals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-rose-pine-muted mt-2\",\n          children: \"Track your progress towards financial goals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowAddForm(true),\n        className: \"pixel-button flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Add Goal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pixel-card p-4 bg-rose-pine-love/20 border border-rose-pine-love\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-rose-pine-text\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this), showAddForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pixel-card p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-rose-pine-text\",\n          children: editingGoal ? 'Edit Goal' : 'Add New Goal'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetForm,\n          className: \"pixel-button-secondary p-2\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-rose-pine-text text-sm font-medium mb-2\",\n              children: \"Goal Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.name,\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                name: e.target.value\n              })),\n              className: \"pixel-input w-full\",\n              placeholder: \"e.g., Emergency Fund, Vacation, New Car\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-rose-pine-text text-sm font-medium mb-2 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this), \"Target Amount\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              step: \"0.01\",\n              min: \"0\",\n              value: formData.target_amount,\n              onChange: e => {\n                var _value$split$;\n                const value = e.target.value;\n                // Only allow up to 2 decimal places\n                if (value.includes('.') && ((_value$split$ = value.split('.')[1]) === null || _value$split$ === void 0 ? void 0 : _value$split$.length) > 2) {\n                  return;\n                }\n                setFormData(prev => ({\n                  ...prev,\n                  target_amount: value\n                }));\n              },\n              onBlur: e => {\n                // Format to 2 decimal places on blur\n                const value = parseFloat(e.target.value);\n                if (!isNaN(value)) {\n                  setFormData(prev => ({\n                    ...prev,\n                    target_amount: value.toFixed(2)\n                  }));\n                }\n              },\n              className: \"pixel-input w-full\",\n              placeholder: \"0.00\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-rose-pine-text text-sm font-medium mb-2 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this), \"Current Amount\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              step: \"0.01\",\n              min: \"0\",\n              value: formData.current_amount,\n              onChange: e => {\n                var _value$split$2;\n                const value = e.target.value;\n                // Only allow up to 2 decimal places\n                if (value.includes('.') && ((_value$split$2 = value.split('.')[1]) === null || _value$split$2 === void 0 ? void 0 : _value$split$2.length) > 2) {\n                  return;\n                }\n                setFormData(prev => ({\n                  ...prev,\n                  current_amount: value\n                }));\n              },\n              onBlur: e => {\n                // Format to 2 decimal places on blur\n                const value = parseFloat(e.target.value);\n                if (!isNaN(value)) {\n                  setFormData(prev => ({\n                    ...prev,\n                    current_amount: value.toFixed(2)\n                  }));\n                }\n              },\n              className: \"pixel-input w-full\",\n              placeholder: \"0.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-rose-pine-text text-sm font-medium mb-2 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this), \"Deadline (Optional)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: formData.deadline,\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                deadline: e.target.value\n              })),\n              className: \"pixel-input w-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-rose-pine-text text-sm font-medium mb-2\",\n              children: \"Notes (Optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: formData.notes,\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                notes: e.target.value\n              })),\n              className: \"pixel-input w-full h-20 resize-none\",\n              placeholder: \"Add any notes about this goal...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: resetForm,\n            className: \"pixel-button-secondary flex-1\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"pixel-button flex-1 flex items-center justify-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(Save, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [editingGoal ? 'Update' : 'Add', \" Goal\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }, this), showContributionForm && selectedGoal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pixel-card p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-rose-pine-text\",\n          children: [\"Add Contribution to \\\"\", selectedGoal.name, \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowContributionForm(false);\n            setSelectedGoal(null);\n          },\n          className: \"pixel-button-secondary p-2\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleAddContribution,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-rose-pine-text text-sm font-medium mb-2 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 19\n              }, this), \"Contribution Amount\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              step: \"0.01\",\n              min: \"0\",\n              value: contributionForm.amount,\n              onChange: e => {\n                var _value$split$3;\n                const value = e.target.value;\n                if (value.includes('.') && ((_value$split$3 = value.split('.')[1]) === null || _value$split$3 === void 0 ? void 0 : _value$split$3.length) > 2) {\n                  return;\n                }\n                setContributionForm(prev => ({\n                  ...prev,\n                  amount: value\n                }));\n              },\n              onBlur: e => {\n                const value = parseFloat(e.target.value);\n                if (!isNaN(value)) {\n                  setContributionForm(prev => ({\n                    ...prev,\n                    amount: value.toFixed(2)\n                  }));\n                }\n              },\n              className: \"pixel-input w-full\",\n              placeholder: \"0.00\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-rose-pine-text text-sm font-medium mb-2 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this), \"Contribution Date\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: contributionForm.date,\n              onChange: e => setContributionForm(prev => ({\n                ...prev,\n                date: e.target.value\n              })),\n              className: \"pixel-input w-full\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-rose-pine-text text-sm font-medium mb-2\",\n              children: \"Notes (Optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: contributionForm.notes,\n              onChange: e => setContributionForm(prev => ({\n                ...prev,\n                notes: e.target.value\n              })),\n              className: \"pixel-input w-full h-20 resize-none\",\n              placeholder: \"Add any notes about this contribution...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              setShowContributionForm(false);\n              setSelectedGoal(null);\n            },\n            className: \"pixel-button-secondary flex-1\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"pixel-button flex-1 flex items-center justify-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(Save, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Add Contribution\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: goals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pixel-card p-8 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Target, {\n          className: \"w-16 h-16 mx-auto mb-4 text-rose-pine-muted opacity-50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-rose-pine-text mb-2\",\n          children: \"No goals yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-rose-pine-muted mb-4\",\n          children: \"Create your first savings goal to get started\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAddForm(true),\n          className: \"pixel-button\",\n          children: \"Create Your First Goal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 11\n      }, this) : goals.map(goal => {\n        const progress = calculateProgress(goal.current_amount, goal.target_amount);\n        const remaining = goal.target_amount - goal.current_amount;\n        const daysUntilDeadline = goal.deadline ? getDaysUntilDeadline(goal.deadline) : null;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pixel-card p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-rose-pine-text\",\n                  children: goal.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-bold text-rose-pine-text\",\n                    children: [formatCurrency(goal.current_amount), \" / \", formatCurrency(goal.target_amount)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-rose-pine-muted\",\n                    children: [progress.toFixed(1), \"% complete\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 530,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-rose-pine-surface h-3 border border-rose-pine-subtle mb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `h-full ${getProgressColor(progress)} transition-all duration-300`,\n                  style: {\n                    width: `${progress}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between text-sm text-rose-pine-muted\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: remaining > 0 ? `${formatCurrency(remaining)} remaining` : 'Goal completed! ðŸŽ‰'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 546,\n                  columnNumber: 23\n                }, this), goal.deadline && daysUntilDeadline !== null && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: daysUntilDeadline < 30 ? 'text-rose-pine-love' : '',\n                  children: daysUntilDeadline > 0 ? `${daysUntilDeadline} days left` : daysUntilDeadline === 0 ? 'Due today!' : `${Math.abs(daysUntilDeadline)} days overdue`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 21\n              }, this), remaining > 0 && goal.deadline && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3 p-3 bg-rose-pine-surface border border-rose-pine-subtle rounded\",\n                children: (() => {\n                  const savingsNeeded = calculateSavingsNeeded(goal);\n                  if (!savingsNeeded) return null;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium text-rose-pine-text mb-1\",\n                      children: \"\\uD83D\\uDCA1 Savings Recommendation:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 573,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-rose-pine-muted\",\n                      children: [\"Save \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-semibold text-rose-pine-text\",\n                        children: formatCurrency(savingsNeeded.perPaycheck)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 577,\n                        columnNumber: 38\n                      }, this), \" per paycheck (\", savingsNeeded.paychecksLeft, \" paychecks left)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 576,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 572,\n                    columnNumber: 29\n                  }, this);\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 23\n              }, this), goal.notes && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-rose-pine-muted mt-2 italic\",\n                children: [\"\\\"\", goal.notes, \"\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 ml-4\",\n              children: [remaining > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setSelectedGoal(goal);\n                  setShowContributionForm(true);\n                },\n                className: \"pixel-button p-2\",\n                \"aria-label\": \"Add contribution\",\n                title: \"Add contribution\",\n                children: /*#__PURE__*/_jsxDEV(Plus, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 598,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEdit(goal),\n                className: \"pixel-button-secondary p-2\",\n                \"aria-label\": \"Edit goal\",\n                children: /*#__PURE__*/_jsxDEV(Edit, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(goal.id),\n                className: \"pixel-button-secondary p-2 text-rose-pine-love hover:bg-rose-pine-love hover:text-rose-pine-text\",\n                \"aria-label\": \"Delete goal\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 622,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 17\n          }, this)\n        }, goal.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 7\n    }, this), goals.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pixel-card p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-rose-pine-text\",\n            children: goals.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-rose-pine-muted\",\n            children: \"Total Goals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-rose-pine-text\",\n            children: formatCurrency(goals.reduce((sum, goal) => sum + goal.current_amount, 0))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-rose-pine-muted\",\n            children: \"Total Saved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-rose-pine-text\",\n            children: formatCurrency(goals.reduce((sum, goal) => sum + goal.target_amount, 0))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-rose-pine-muted\",\n            children: \"Total Target\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 635,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 634,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 5\n  }, this);\n};\n_s(GoalsPage, \"OCiAEuSRRXaAmASQIF8XYdAswAQ=\", false, function () {\n  return [useAuth];\n});\n_c = GoalsPage;\nexport default GoalsPage;\nvar _c;\n$RefreshReg$(_c, \"GoalsPage\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","supabase","formatCurrency","Plus","Edit","Trash2","Target","DollarSign","Calendar","X","Save","TrendingUp","LoadingSpinner","jsxDEV","_jsxDEV","GoalsPage","_s","user","goals","setGoals","loading","setLoading","error","setError","showAddForm","setShowAddForm","showContributionForm","setShowContributionForm","selectedGoal","setSelectedGoal","editingGoal","setEditingGoal","formData","setFormData","name","target_amount","current_amount","deadline","notes","contributionForm","setContributionForm","amount","date","Date","toISOString","split","loadGoals","id","data","from","select","eq","order","ascending","err","console","handleSubmit","e","preventDefault","goalData","user_id","parseFloat","update","insert","resetForm","handleDelete","goalId","window","confirm","delete","handleEdit","goal","toString","calculateProgress","current","target","Math","min","getProgressColor","progress","getDaysUntilDeadline","today","deadlineDate","diffTime","getTime","diffDays","ceil","calculateSavingsNeeded","remaining","daysLeft","paychecksLeft","total","perPaycheck","handleAddContribution","contributionAmount","newCurrentAmount","goalError","contributionError","goal_id","contribution_date","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","onSubmit","type","value","onChange","prev","placeholder","required","step","_value$split$","includes","length","onBlur","isNaN","toFixed","_value$split$2","_value$split$3","map","daysUntilDeadline","style","width","abs","savingsNeeded","title","reduce","sum","_c","$RefreshReg$"],"sources":["/workspace/src/components/GoalsPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useAuth } from '../contexts/AuthContext'\nimport { supabase } from '../lib/supabase'\nimport { Goal } from '../lib/supabase'\nimport { formatCurrency, formatDate } from '../lib/budget-utils'\nimport { Plus, Edit, Trash2, Target, DollarSign, Calendar, X, Save, TrendingUp } from 'lucide-react'\nimport LoadingSpinner from './ui/LoadingSpinner'\n\nconst GoalsPage: React.FC = () => {\n  const { user } = useAuth()\n  const [goals, setGoals] = useState<Goal[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState('')\n  const [showAddForm, setShowAddForm] = useState(false)\n  const [showContributionForm, setShowContributionForm] = useState(false)\n  const [selectedGoal, setSelectedGoal] = useState<Goal | null>(null)\n  const [editingGoal, setEditingGoal] = useState<Goal | null>(null)\n  \n  const [formData, setFormData] = useState({\n    name: '',\n    target_amount: '',\n    current_amount: '',\n    deadline: '',\n    notes: ''\n  })\n\n  const [contributionForm, setContributionForm] = useState({\n    amount: '',\n    date: new Date().toISOString().split('T')[0],\n    notes: ''\n  })\n\n  useEffect(() => {\n    if (user) {\n      loadGoals()\n    }\n  }, [user])\n\n  const loadGoals = async () => {\n    if (!user?.id) return\n\n    try {\n      setLoading(true)\n      const { data, error } = await supabase\n        .from('goals')\n        .select('*')\n        .eq('user_id', user.id)\n        .order('created_at', { ascending: false })\n\n      if (error) throw error\n      setGoals(data || [])\n    } catch (err) {\n      console.error('Error loading goals:', err)\n      setError('Failed to load goals')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!user?.id) return\n\n    try {\n      const goalData = {\n        user_id: user.id,\n        name: formData.name,\n        target_amount: parseFloat(formData.target_amount),\n        current_amount: parseFloat(formData.current_amount) || 0,\n        deadline: formData.deadline || null,\n        notes: formData.notes || null\n      }\n\n      if (editingGoal) {\n        // Update existing goal\n        const { error } = await supabase\n          .from('goals')\n          .update(goalData)\n          .eq('id', editingGoal.id)\n\n        if (error) throw error\n      } else {\n        // Add new goal\n        const { error } = await supabase\n          .from('goals')\n          .insert(goalData)\n\n        if (error) throw error\n      }\n\n      // Reset form and reload\n      resetForm()\n      await loadGoals()\n    } catch (err) {\n      console.error('Error saving goal:', err)\n      setError('Failed to save goal')\n    }\n  }\n\n  const handleDelete = async (goalId: string) => {\n    if (!window.confirm('Are you sure you want to delete this goal?')) return\n\n    try {\n      const { error } = await supabase\n        .from('goals')\n        .delete()\n        .eq('id', goalId)\n\n      if (error) throw error\n      await loadGoals()\n    } catch (err) {\n      console.error('Error deleting goal:', err)\n      setError('Failed to delete goal')\n    }\n  }\n\n  const handleEdit = (goal: Goal) => {\n    setEditingGoal(goal)\n    setFormData({\n      name: goal.name,\n      target_amount: goal.target_amount.toString(),\n      current_amount: goal.current_amount.toString(),\n      deadline: goal.deadline || '',\n      notes: goal.notes || ''\n    })\n    setShowAddForm(true)\n  }\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      target_amount: '',\n      current_amount: '',\n      deadline: '',\n      notes: ''\n    })\n    setEditingGoal(null)\n    setShowAddForm(false)\n  }\n\n  const calculateProgress = (current: number, target: number) => {\n    return Math.min(100, (current / target) * 100)\n  }\n\n  const getProgressColor = (progress: number) => {\n    if (progress >= 80) return 'bg-rose-pine-pine'\n    if (progress >= 50) return 'bg-rose-pine-gold'\n    return 'bg-rose-pine-love'\n  }\n\n  const getDaysUntilDeadline = (deadline: string) => {\n    const today = new Date()\n    const deadlineDate = new Date(deadline)\n    const diffTime = deadlineDate.getTime() - today.getTime()\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n    return diffDays\n  }\n\n  const calculateSavingsNeeded = (goal: Goal) => {\n    if (!goal.deadline) return null\n    \n    const remaining = goal.target_amount - goal.current_amount\n    const daysLeft = getDaysUntilDeadline(goal.deadline)\n    \n    if (daysLeft <= 0) return null\n    \n    // Calculate per-paycheck savings needed (assuming biweekly pay)\n    const paychecksLeft = Math.ceil(daysLeft / 14)\n    return {\n      total: remaining,\n      perPaycheck: remaining / paychecksLeft,\n      paychecksLeft,\n      daysLeft\n    }\n  }\n\n  const handleAddContribution = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!user?.id || !selectedGoal) return\n\n    try {\n      const contributionAmount = parseFloat(contributionForm.amount)\n      const newCurrentAmount = selectedGoal.current_amount + contributionAmount\n\n      // Update goal with new current amount\n      const { error: goalError } = await supabase\n        .from('goals')\n        .update({ current_amount: newCurrentAmount })\n        .eq('id', selectedGoal.id)\n\n      if (goalError) throw goalError\n\n      // Add contribution record\n      const { error: contributionError } = await supabase\n        .from('goal_contributions')\n        .insert({\n          goal_id: selectedGoal.id,\n          user_id: user.id,\n          amount: contributionAmount,\n          contribution_date: contributionForm.date,\n          notes: contributionForm.notes || null\n        })\n\n      if (contributionError) throw contributionError\n\n      // Reset form and reload\n      setContributionForm({\n        amount: '',\n        date: new Date().toISOString().split('T')[0],\n        notes: ''\n      })\n      setShowContributionForm(false)\n      setSelectedGoal(null)\n      await loadGoals()\n    } catch (err) {\n      console.error('Error adding contribution:', err)\n      setError('Failed to add contribution')\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-96\">\n        <LoadingSpinner />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-rose-pine-text\">Savings Goals</h1>\n          <p className=\"text-rose-pine-muted mt-2\">Track your progress towards financial goals</p>\n        </div>\n        <button\n          onClick={() => setShowAddForm(true)}\n          className=\"pixel-button flex items-center space-x-2\"\n        >\n          <Plus size={20} />\n          <span>Add Goal</span>\n        </button>\n      </div>\n\n      {/* Error Message */}\n      {error && (\n        <div className=\"pixel-card p-4 bg-rose-pine-love/20 border border-rose-pine-love\">\n          <p className=\"text-rose-pine-text\">{error}</p>\n        </div>\n      )}\n\n      {/* Add/Edit Form */}\n      {showAddForm && (\n        <div className=\"pixel-card p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-xl font-bold text-rose-pine-text\">\n              {editingGoal ? 'Edit Goal' : 'Add New Goal'}\n            </h2>\n            <button\n              onClick={resetForm}\n              className=\"pixel-button-secondary p-2\"\n            >\n              <X size={20} />\n            </button>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {/* Goal Name */}\n              <div>\n                <label className=\"block text-rose-pine-text text-sm font-medium mb-2\">\n                  Goal Name\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                  className=\"pixel-input w-full\"\n                  placeholder=\"e.g., Emergency Fund, Vacation, New Car\"\n                  required\n                />\n              </div>\n\n              {/* Target Amount */}\n              <div>\n                <label className=\"block text-rose-pine-text text-sm font-medium mb-2 flex items-center\">\n                  <DollarSign className=\"w-4 h-4 mr-2\" />\n                  Target Amount\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.target_amount}\n                  onChange={(e) => {\n                    const value = e.target.value\n                    // Only allow up to 2 decimal places\n                    if (value.includes('.') && value.split('.')[1]?.length > 2) {\n                      return\n                    }\n                    setFormData(prev => ({ ...prev, target_amount: value }))\n                  }}\n                  onBlur={(e) => {\n                    // Format to 2 decimal places on blur\n                    const value = parseFloat(e.target.value)\n                    if (!isNaN(value)) {\n                      setFormData(prev => ({ ...prev, target_amount: value.toFixed(2) }))\n                    }\n                  }}\n                  className=\"pixel-input w-full\"\n                  placeholder=\"0.00\"\n                  required\n                />\n              </div>\n\n              {/* Current Amount */}\n              <div>\n                <label className=\"block text-rose-pine-text text-sm font-medium mb-2 flex items-center\">\n                  <TrendingUp className=\"w-4 h-4 mr-2\" />\n                  Current Amount\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.current_amount}\n                  onChange={(e) => {\n                    const value = e.target.value\n                    // Only allow up to 2 decimal places\n                    if (value.includes('.') && value.split('.')[1]?.length > 2) {\n                      return\n                    }\n                    setFormData(prev => ({ ...prev, current_amount: value }))\n                  }}\n                  onBlur={(e) => {\n                    // Format to 2 decimal places on blur\n                    const value = parseFloat(e.target.value)\n                    if (!isNaN(value)) {\n                      setFormData(prev => ({ ...prev, current_amount: value.toFixed(2) }))\n                    }\n                  }}\n                  className=\"pixel-input w-full\"\n                  placeholder=\"0.00\"\n                />\n              </div>\n\n              {/* Deadline */}\n              <div>\n                <label className=\"block text-rose-pine-text text-sm font-medium mb-2 flex items-center\">\n                  <Calendar className=\"w-4 h-4 mr-2\" />\n                  Deadline (Optional)\n                </label>\n                <input\n                  type=\"date\"\n                  value={formData.deadline}\n                  onChange={(e) => setFormData(prev => ({ ...prev, deadline: e.target.value }))}\n                  className=\"pixel-input w-full\"\n                />\n              </div>\n\n              {/* Notes */}\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-rose-pine-text text-sm font-medium mb-2\">\n                  Notes (Optional)\n                </label>\n                <textarea\n                  value={formData.notes}\n                  onChange={(e) => setFormData(prev => ({ ...prev, notes: e.target.value }))}\n                  className=\"pixel-input w-full h-20 resize-none\"\n                  placeholder=\"Add any notes about this goal...\"\n                />\n              </div>\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex space-x-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={resetForm}\n                className=\"pixel-button-secondary flex-1\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"pixel-button flex-1 flex items-center justify-center space-x-2\"\n              >\n                <Save size={16} />\n                <span>{editingGoal ? 'Update' : 'Add'} Goal</span>\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Contribution Form */}\n      {showContributionForm && selectedGoal && (\n        <div className=\"pixel-card p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-xl font-bold text-rose-pine-text\">\n              Add Contribution to \"{selectedGoal.name}\"\n            </h2>\n            <button\n              onClick={() => {\n                setShowContributionForm(false)\n                setSelectedGoal(null)\n              }}\n              className=\"pixel-button-secondary p-2\"\n            >\n              <X size={20} />\n            </button>\n          </div>\n\n          <form onSubmit={handleAddContribution} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {/* Amount */}\n              <div>\n                <label className=\"block text-rose-pine-text text-sm font-medium mb-2 flex items-center\">\n                  <DollarSign className=\"w-4 h-4 mr-2\" />\n                  Contribution Amount\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={contributionForm.amount}\n                  onChange={(e) => {\n                    const value = e.target.value\n                    if (value.includes('.') && value.split('.')[1]?.length > 2) {\n                      return\n                    }\n                    setContributionForm(prev => ({ ...prev, amount: value }))\n                  }}\n                  onBlur={(e) => {\n                    const value = parseFloat(e.target.value)\n                    if (!isNaN(value)) {\n                      setContributionForm(prev => ({ ...prev, amount: value.toFixed(2) }))\n                    }\n                  }}\n                  className=\"pixel-input w-full\"\n                  placeholder=\"0.00\"\n                  required\n                />\n              </div>\n\n              {/* Date */}\n              <div>\n                <label className=\"block text-rose-pine-text text-sm font-medium mb-2 flex items-center\">\n                  <Calendar className=\"w-4 h-4 mr-2\" />\n                  Contribution Date\n                </label>\n                <input\n                  type=\"date\"\n                  value={contributionForm.date}\n                  onChange={(e) => setContributionForm(prev => ({ ...prev, date: e.target.value }))}\n                  className=\"pixel-input w-full\"\n                  required\n                />\n              </div>\n\n              {/* Notes */}\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-rose-pine-text text-sm font-medium mb-2\">\n                  Notes (Optional)\n                </label>\n                <textarea\n                  value={contributionForm.notes}\n                  onChange={(e) => setContributionForm(prev => ({ ...prev, notes: e.target.value }))}\n                  className=\"pixel-input w-full h-20 resize-none\"\n                  placeholder=\"Add any notes about this contribution...\"\n                />\n              </div>\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex space-x-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setShowContributionForm(false)\n                  setSelectedGoal(null)\n                }}\n                className=\"pixel-button-secondary flex-1\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"pixel-button flex-1 flex items-center justify-center space-x-2\"\n              >\n                <Save size={16} />\n                <span>Add Contribution</span>\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Goals List */}\n      <div className=\"space-y-4\">\n        {goals.length === 0 ? (\n          <div className=\"pixel-card p-8 text-center\">\n            <Target className=\"w-16 h-16 mx-auto mb-4 text-rose-pine-muted opacity-50\" />\n            <h3 className=\"text-lg font-semibold text-rose-pine-text mb-2\">No goals yet</h3>\n            <p className=\"text-rose-pine-muted mb-4\">Create your first savings goal to get started</p>\n            <button\n              onClick={() => setShowAddForm(true)}\n              className=\"pixel-button\"\n            >\n              Create Your First Goal\n            </button>\n          </div>\n        ) : (\n          goals.map((goal) => {\n            const progress = calculateProgress(goal.current_amount, goal.target_amount)\n            const remaining = goal.target_amount - goal.current_amount\n            const daysUntilDeadline = goal.deadline ? getDaysUntilDeadline(goal.deadline) : null\n\n            return (\n              <div key={goal.id} className=\"pixel-card p-4\">\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <h3 className=\"font-semibold text-rose-pine-text\">{goal.name}</h3>\n                      <div className=\"text-right\">\n                        <div className=\"text-lg font-bold text-rose-pine-text\">\n                          {formatCurrency(goal.current_amount)} / {formatCurrency(goal.target_amount)}\n                        </div>\n                        <div className=\"text-sm text-rose-pine-muted\">\n                          {progress.toFixed(1)}% complete\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Progress Bar */}\n                    <div className=\"w-full bg-rose-pine-surface h-3 border border-rose-pine-subtle mb-2\">\n                      <div \n                        className={`h-full ${getProgressColor(progress)} transition-all duration-300`}\n                        style={{ width: `${progress}%` }}\n                      ></div>\n                    </div>\n\n                    {/* Goal Details */}\n                    <div className=\"flex items-center justify-between text-sm text-rose-pine-muted\">\n                      <span>\n                        {remaining > 0 \n                          ? `${formatCurrency(remaining)} remaining`\n                          : 'Goal completed! ðŸŽ‰'\n                        }\n                      </span>\n                      {goal.deadline && daysUntilDeadline !== null && (\n                        <span className={daysUntilDeadline < 30 ? 'text-rose-pine-love' : ''}>\n                          {daysUntilDeadline > 0 \n                            ? `${daysUntilDeadline} days left`\n                            : daysUntilDeadline === 0\n                            ? 'Due today!'\n                            : `${Math.abs(daysUntilDeadline)} days overdue`\n                          }\n                        </span>\n                      )}\n                    </div>\n\n                    {/* Savings Recommendations */}\n                    {remaining > 0 && goal.deadline && (\n                      <div className=\"mt-3 p-3 bg-rose-pine-surface border border-rose-pine-subtle rounded\">\n                        {(() => {\n                          const savingsNeeded = calculateSavingsNeeded(goal)\n                          if (!savingsNeeded) return null\n                          \n                          return (\n                            <div className=\"text-sm\">\n                              <div className=\"font-medium text-rose-pine-text mb-1\">\n                                ðŸ’¡ Savings Recommendation:\n                              </div>\n                              <div className=\"text-rose-pine-muted\">\n                                Save <span className=\"font-semibold text-rose-pine-text\">\n                                  {formatCurrency(savingsNeeded.perPaycheck)}\n                                </span> per paycheck \n                                ({savingsNeeded.paychecksLeft} paychecks left)\n                              </div>\n                            </div>\n                          )\n                        })()}\n                      </div>\n                    )}\n\n                    {/* Notes */}\n                    {goal.notes && (\n                      <p className=\"text-sm text-rose-pine-muted mt-2 italic\">\n                        \"{goal.notes}\"\n                      </p>\n                    )}\n                  </div>\n\n                  <div className=\"flex items-center space-x-2 ml-4\">\n                    {remaining > 0 && (\n                      <button\n                        onClick={() => {\n                          setSelectedGoal(goal)\n                          setShowContributionForm(true)\n                        }}\n                        className=\"pixel-button p-2\"\n                        aria-label=\"Add contribution\"\n                        title=\"Add contribution\"\n                      >\n                        <Plus size={16} />\n                      </button>\n                    )}\n                    <button\n                      onClick={() => handleEdit(goal)}\n                      className=\"pixel-button-secondary p-2\"\n                      aria-label=\"Edit goal\"\n                    >\n                      <Edit size={16} />\n                    </button>\n                    <button\n                      onClick={() => handleDelete(goal.id)}\n                      className=\"pixel-button-secondary p-2 text-rose-pine-love hover:bg-rose-pine-love hover:text-rose-pine-text\"\n                      aria-label=\"Delete goal\"\n                    >\n                      <Trash2 size={16} />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )\n          })\n        )}\n      </div>\n\n      {/* Summary */}\n      {goals.length > 0 && (\n        <div className=\"pixel-card p-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-center\">\n            <div>\n              <div className=\"text-2xl font-bold text-rose-pine-text\">\n                {goals.length}\n              </div>\n              <div className=\"text-sm text-rose-pine-muted\">Total Goals</div>\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-rose-pine-text\">\n                {formatCurrency(goals.reduce((sum, goal) => sum + goal.current_amount, 0))}\n              </div>\n              <div className=\"text-sm text-rose-pine-muted\">Total Saved</div>\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-rose-pine-text\">\n                {formatCurrency(goals.reduce((sum, goal) => sum + goal.target_amount, 0))}\n              </div>\n              <div className=\"text-sm text-rose-pine-muted\">Total Target</div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default GoalsPage"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}